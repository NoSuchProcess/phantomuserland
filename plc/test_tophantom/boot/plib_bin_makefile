all:: classes

#MKBULK=mkbulk
#PLC=plc.cmd
MKBULK=C:/bin/phantomuserland/trunk/build/bin/mkbulk
PLC=C:/bin/phantomuserland/trunk/build/bin/plc.cmd

OFF=internal.object.pc internal.io.tty.pc 

# todo
# ru.dz.phantom.system.iterable.pc ru.dz.phantom.system.iterator.pc \


#test.util.pc 

classes: internal.int.pc internal.io.tty.pc internal.object.pc internal.string.pc \
ru.dz.phantom.system.class_loader.pc \
ru.dz.phantom.system.runnable.pc \
ru.dz.phantom.system.thread_test.pc phantom.util.map.pc \
ru.dz.windows.root.pc ru.dz.phantom.backgrounds.pc \
phantom.osimpl.pc phantom.os.pc phantom.os.time.pc \
translation.java.test.b.pc translation.java.test.a.pc translation.java.test.field.pc translation.java.test.obj_test.pc translation.java.test.compare.pc \
translation.java.test.loop.pc translation.java.test.logic.pc translation.java.test.array.pc translation.java.test.switch_test.pc \
ru.dz.phantom.system.translation_regression_tests.pc ru.dz.phantom.system.boot.pc
#translation.run_test.pc translation.a.pc java.translation.b.pc java.translation.test.pc
#ru.dz.phantom.tetris.playingfield.pc ru.dz.phantom.tetris.figure.pc ru.dz.phantom.tetris.imagesmanager.pc \
#ru.dz.phantom.tetris.utilites.pc ru.dz.phantom.tetris.io.pc ru.dz.phantom.tetris.mainmodule.pc
	$(MKBULK) classes $(filter-out $(OFF) ,$^)
	#cp classes c:/bin/phantom/classes


%.pc: ../src/%.ph
	@echo --- plc $<
	@$(PLC) $<


install: classes
	cp classes ../../oldtree/run/tftp

clean: 
	-rm *.pc *.lst *.lstc classes *.d
